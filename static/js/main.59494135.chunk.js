(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(t,n,e){t.exports=e(68)},30:function(t,n,e){},31:function(t,n,e){},32:function(t,n,e){},68:function(t,n,e){"use strict";e.r(n);var a=e(0),o=e.n(a),i=e(19),c=e.n(i),r=(e(30),e(20)),l=e(21),u=e(24),s=e(22),m=e(7),g=e(23),d=(e(31),function(t){var n=t.inputValue,e=t.onInputChange,a=t.onButtonSubmit;return o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("div",{className:"input-group"},o.a.createElement("input",{autoFocus:!0,spellCheck:"false",value:n,onChange:e,className:"input-text",type:""}),o.a.createElement("button",{onClick:a,className:"input-button"},"Detect"))))}),f=(e(32),function(){return o.a.createElement("div",{className:"white"},"Oops! Something went wrong :( Perhapes the url is incorrect")}),h=function(t){var n=t.boundingBox,e={top:100*n.top_row+"%",right:100-100*n.right_col+"%",bottom:100-100*n.bottom_row+"%",left:100*n.left_col+"%"};return o.a.createElement("div",{className:"bounding-box",style:e})},b=function(t){var n=t.imageUrl,e=t.onMainImageLoad,a=t.boundingBox;return o.a.createElement("div",{className:"container"},o.a.createElement("img",{onLoad:function(t){return e(t,a)},className:"image-demo",src:n,alt:""}),a.map(function(t){var n=t.region_info,e=n.bounding_box,a="".concat(e.top_row).concat(e.left_col).concat(e.bottom_row).concat(e.right_col);return o.a.createElement(h,{key:a,boundingBox:n.bounding_box})}))},v=function(t){var n=t.boxId,e=t.imageUrl,a=t.boundingBox,i=t.onCanvas;a.right_col,a.left_col,a.bottom_row,a.top_row,"url('".concat(e,"')"),"".concat(100*a.left_col,"% ").concat(100*a.top_row,"%");return o.a.createElement("div",null,o.a.createElement("canvas",{ref:function(t){return t?i(t,n):null}}))},p=function(t){var n=t.imageUrl,e=t.boundingBox,a=t.onCanvas;return o.a.createElement("div",{className:"info-demo"},e.map(function(t,e){var i=t.region_info,c=i.bounding_box,r="".concat(c.top_row).concat(c.left_col).concat(c.bottom_row).concat(c.right_col);return o.a.createElement(v,{key:r,boxId:r,imageUrl:n,boundingBox:i.bounding_box,onCanvas:a})}))},_=function(t){var n=t.imageStatus,e=t.imageUrl,a=t.boundingBox,i=t.onMainImageLoad,c=t.onCanvas;return null===n?null:400!==n?o.a.createElement("div",{className:"image-panel",style:{maxWidth:"800px"}},o.a.createElement(b,{imageUrl:e,boundingBox:a,onMainImageLoad:i}),o.a.createElement(p,{imageUrl:e,boundingBox:a,onCanvas:c})):o.a.createElement(f,null)},w=function(){return o.a.createElement("div",{id:"logo"},"\u15b4\u15e9\u1455I\u15b4Y")},E=e(11),x=e.n(E),C=function(t,n){return n.find(function(n){return n.id===t})},B=function(t){var n=t.filter(function(t){return t.clientHeight&&t.clientWidth});this.setState({canvasCollection:n})},S=function(t,n,e){var a=n.offsetWidth,o=n.offsetHeight,i=n.naturalWidth,c=n.naturalHeight,r=a-a*(e.left_col+(1-e.right_col)),l=o-o*(e.top_row+(1-e.bottom_row)),u=this.state.canvasCollection,s=C(t,u),m=70*r/l,g=(s=s.canvas).getContext("2d"),d=i*e.left_col,f=c*e.top_row,h=i/((i-(i*(1-e.right_col)+d))/m),b=c/((c-(c*(1-e.bottom_row)+f))/70);s.height=70,s.width=m,g.drawImage(n,d,f,i,c,0,0,h,b)},I=function(t){var n=t.boundingBox,e=n&&n.length>1?"Faces":"Face";return n&&o.a.createElement("div",{className:"stats"},o.a.createElement("h1",null,"Found ","".concat(n.length," ").concat(e)," "))},k=new x.a.App({apiKey:"f816634000e34c3b9c5271e13f690d5f"}),O=function(t){function n(){var t,e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=Object(u.a)(this,(t=Object(s.a)(n)).call.apply(t,[this].concat(o)))).state={input:"https://i.kym-cdn.com/photos/images/original/000/994/346/7ac.jpg",imageUrl:"",imageStatusOk:null,imageSize:null,boundingBox:null,canvasCollection:[],bbIdx:0},e.onInputChange=function(t){e.setState({input:t.target.value})},e.onCanvas=function(t,n){var a=e.state.canvasCollection.slice(),o={id:n,canvas:t};C(n,a)||(a.push(o),e.setState({canvasCollection:a}))},e.onMainImageLoad=function(t,n){var a=t.target;n.forEach(function(t){var n=t.region_info.bounding_box,o="".concat(n.top_row).concat(n.left_col).concat(n.bottom_row).concat(n.right_col);S.call(Object(m.a)(e),o,a,n)}),B.call(Object(m.a)(e),e.state.canvasCollection.slice())},e.onButtonSubmit=function(t){k.models.predict(x.a.FACE_DETECT_MODEL,e.state.input).then(function(t){var n=t.outputs[0].data.regions;e.setState({boundingBox:n}),e.setState({imageStatusOk:!0}),e.setState({imageUrl:e.state.input})},function(t){e.setState({imageStatusOk:t.status}),e.setState({boundingBox:null})})},e}return Object(g.a)(n,t),Object(l.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(w,null),o.a.createElement("main",null,o.a.createElement(d,{inputValue:this.state.input,onButtonSubmit:this.onButtonSubmit,onInputChange:this.onInputChange}),o.a.createElement(I,{boundingBox:this.state.boundingBox}),o.a.createElement(_,{imageStatus:this.state.imageStatusOk,imageUrl:this.state.imageUrl,onMainImageLoad:this.onMainImageLoad,boundingBox:this.state.boundingBox,onCanvas:this.onCanvas})))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[25,1,2]]]);
//# sourceMappingURL=main.59494135.chunk.js.map